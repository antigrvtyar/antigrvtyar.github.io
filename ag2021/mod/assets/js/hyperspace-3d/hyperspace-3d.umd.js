!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.hyperspace3D=t()}(this,function(){var e=function(e){return{top:e.offsetTop,bottom:e.offsetTop+e.clientHeight}};return function(t,n){void 0===n&&(n="#hs");var o=Object.assign({},{space:{amount:50,extra:"auto"},bound:{padding:100},blur:{active:!0,amount:10,hq:!0,offset:.9},opacity:{active:!0,amount:1}},t),a=document.querySelector(n),i=Math.min(document.documentElement.clientHeight,window.innerHeight),r=e(a),c=function(){var e=(window.pageYOffset-a.offsetTop)/i,t=100*e,r=t<=0?t:0;a.style.setProperty("--cameraZ",100*e),a.style.setProperty("--offsetY",r);var c=e*o.blur.amount;if(o.blur.active&&o.blur.amount>0&&a.style.setProperty("--blur",c),o.opacity.active&&o.opacity.amount>0&&a.style.setProperty("--opacity",e*o.opacity.amount),o.blur.active&&o.blur.amount>0&&!0===o.blur.hq){var s=a.querySelector(n+" > *[hs=container] > *[hs=scene]");Array.from(s.children).forEach(function(e,t){c<t*(o.blur.amount-o.blur.offset)?"none"===e.style.filter&&(e.style.filter="blur( calc( ("+t+" * "+o.blur.amount+"px) - (var(--blur) * 1px) ) )"):e.style.filter="none"})}};"auto"===o.space.extra&&(o.space.extra=!(a.offsetHeight+a.offsetTop>=document.body.offsetHeight)),function(t,n,o){(function(e,t){var n=document.querySelector(e),o=n.querySelector(e+" > *[hs=container] > *[hs=scene]").children;Array.from(o).forEach(function(e,n){e.style.transform="translateZ(calc("+n+" * -100vh))",e.style.zIndex=1e3-n,t.blur.active&&(e.style.filter="blur( calc( ("+n+" * "+t.blur.amount+"px) - (var(--blur) * 1px) ) )",e.style.willChange="filter"),t.opacity.active&&(e.style.opacity="calc( 1 + ("+n+" * -"+t.opacity.amount+") + (var(--opacity)))")}),n.style.height="calc("+100*o.length+"vh + "+(t.space.extra?t.space.amount:0)+"vh)"})(t,n),function(t,n,o){var i="\n    "+t+" *{\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n    }\n    "+t+"{\n        --offsetY: -100;\n        --cameraZ: 0;\n\n        opacity:1;\n        transition:opacity 0.1s;\n    }\n\n    "+t+" > *[hs=container]{\n        height: 100%;\n        width: 100%;\n        position: fixed;\n        bottom: calc(var(--offsetY) * 1%);\n        left: 0;\n        perspective: "+n.space.amount+"vh;\n        perspective-origin: 50%;\n        transform: translate3d(0, 0, 0);\n    }\n\n    "+t+" > *[hs=container] > *[hs=scene]{\n        height: 100%;\n        width: 100%;\n        position: absolute;\n        top: 0;\n        transform-style: preserve-3d;\n        transform: translateZ(calc(var(--cameraZ) * 1vh));\n        will-change: transform;\n    }\n\n    "+t+" > *[hs=container] > *[hs=scene] > section{\n        width: 100vw;\n        height: 100vh;\n        position: absolute;\n        top: 0;\n        left: 0;   \n        display: flex;\n        justify-content: center;\n        align-items: center;\n        flex-direction: column;\n    }\n  ",c=document.createElement("style");c.type="text/css",c.innerHTML=i,document.head.appendChild(c),r=e(a)}(t,n)}(n,o),window.addEventListener("scroll",function(){var e=window.pageYOffset+i,t=window.pageYOffset;r.top-o.bound.padding<=e&&r.bottom+o.bound.padding>=t&&c()}),window.dispatchEvent(new Event("scroll")),window.addEventListener("DOMContentLoaded",function(){r=e(a),c()}),window.addEventListener("resize",function(){r=e(a),i=Math.min(document.documentElement.clientHeight,window.innerHeight)})}});
//# sourceMappingURL=hyperspace-3d.umd.js.map
