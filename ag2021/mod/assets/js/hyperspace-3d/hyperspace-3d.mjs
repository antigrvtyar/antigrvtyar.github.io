var t=function(t){return{top:t.offsetTop,bottom:t.offsetTop+t.clientHeight}};export default function(e,n){void 0===n&&(n="#hs");var o=Object.assign({},{space:{amount:50,extra:"auto"},bound:{padding:100},blur:{active:!0,amount:10,hq:!0,offset:.9},opacity:{active:!0,amount:1}},e),a=document.querySelector(n),r=Math.min(document.documentElement.clientHeight,window.innerHeight),i=t(a),c=function(){var t=(window.pageYOffset-a.offsetTop)/r,e=100*t,i=e<=0?e:0;a.style.setProperty("--cameraZ",100*t),a.style.setProperty("--offsetY",i);var c=t*o.blur.amount;if(o.blur.active&&o.blur.amount>0&&a.style.setProperty("--blur",c),o.opacity.active&&o.opacity.amount>0&&a.style.setProperty("--opacity",t*o.opacity.amount),o.blur.active&&o.blur.amount>0&&!0===o.blur.hq){var s=a.querySelector(n+" > *[hs=container] > *[hs=scene]");Array.from(s.children).forEach(function(t,e){c<e*(o.blur.amount-o.blur.offset)?"none"===t.style.filter&&(t.style.filter="blur( calc( ("+e+" * "+o.blur.amount+"px) - (var(--blur) * 1px) ) )"):t.style.filter="none"})}};"auto"===o.space.extra&&(o.space.extra=!(a.offsetHeight+a.offsetTop>=document.body.offsetHeight)),function(e,n,o){(function(t,e){var n=document.querySelector(t),o=n.querySelector(t+" > *[hs=container] > *[hs=scene]").children;Array.from(o).forEach(function(t,n){t.style.transform="translateZ(calc("+n+" * -100vh))",t.style.zIndex=1e3-n,e.blur.active&&(t.style.filter="blur( calc( ("+n+" * "+e.blur.amount+"px) - (var(--blur) * 1px) ) )",t.style.willChange="filter"),e.opacity.active&&(t.style.opacity="calc( 1 + ("+n+" * -"+e.opacity.amount+") + (var(--opacity)))")}),n.style.height="calc("+100*o.length+"vh + "+(e.space.extra?e.space.amount:0)+"vh)"})(e,n),function(e,n,o){var r="\n    "+e+" *{\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n    }\n    "+e+"{\n        --offsetY: -100;\n        --cameraZ: 0;\n\n        opacity:1;\n        transition:opacity 0.1s;\n    }\n\n    "+e+" > *[hs=container]{\n        height: 100%;\n        width: 100%;\n        position: fixed;\n        bottom: calc(var(--offsetY) * 1%);\n        left: 0;\n        perspective: "+n.space.amount+"vh;\n        perspective-origin: 50%;\n        transform: translate3d(0, 0, 0);\n    }\n\n    "+e+" > *[hs=container] > *[hs=scene]{\n        height: 100%;\n        width: 100%;\n        position: absolute;\n        top: 0;\n        transform-style: preserve-3d;\n        transform: translateZ(calc(var(--cameraZ) * 1vh));\n        will-change: transform;\n    }\n\n    "+e+" > *[hs=container] > *[hs=scene] > section{\n        width: 100vw;\n        height: 100vh;\n        position: absolute;\n        top: 0;\n        left: 0;   \n        display: flex;\n        justify-content: center;\n        align-items: center;\n        flex-direction: column;\n    }\n  ",c=document.createElement("style");c.type="text/css",c.innerHTML=r,document.head.appendChild(c),i=t(a)}(e,n)}(n,o),window.addEventListener("scroll",function(){var t=window.pageYOffset+r,e=window.pageYOffset;i.top-o.bound.padding<=t&&i.bottom+o.bound.padding>=e&&c()}),window.dispatchEvent(new Event("scroll")),window.addEventListener("DOMContentLoaded",function(){i=t(a),c()}),window.addEventListener("resize",function(){i=t(a),r=Math.min(document.documentElement.clientHeight,window.innerHeight)})}
//# sourceMappingURL=hyperspace-3d.mjs.map
